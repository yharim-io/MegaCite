<main class="container-narrow">
    <h1 style="font-size: 28px; font-weight: 700; margin-bottom: 40px; color: var(--vp-c-text-1);">账号设置</h1>

    <!-- 1. 安全中心 -->
    <div class="settings-section">
        <h3 class="settings-header">安全中心</h3>
        
        <!-- [新增] 用户信息展示区 -->
        <div id="user-profile-loading" style="margin-bottom: 24px; color: var(--vp-c-text-3); font-size: 14px; display: none;">加载中...</div>
        
        <div id="user-profile" style="display: none; background: var(--vp-c-bg-soft); border-radius: 8px; padding: 16px; margin-bottom: 30px; border: 1px solid var(--vp-c-border);">
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px;">
                <div>
                    <span style="font-size: 14px; color: var(--vp-c-text-3); margin-right: 8px;">用户名</span>
                    <span id="profile-username" style="font-weight: 500; color: var(--vp-c-text-1); font-size: 15px;"></span>
                </div>
                <div>
                    <span style="font-size: 14px; color: var(--vp-c-text-3); margin-right: 8px;">绑定邮箱</span>
                    <span id="profile-email" style="font-weight: 500; color: var(--vp-c-text-1); font-size: 15px;"></span>
                </div>
                <div>
                    <span style="font-size: 14px; color: var(--vp-c-text-3); margin-right: 8px;">注册时间</span>
                    <span id="profile-date" style="font-weight: 500; color: var(--vp-c-text-1); font-size: 15px;"></span>
                </div>
            </div>
        </div>
        
        <form id="settings-form">
            <div style="display: flex; gap: 20px;">
                <div style="flex: 1;">
                    <label style="display: block; font-size: 13px; font-weight: 600; margin-bottom: 6px; color: var(--vp-c-text-2);">旧密码</label>
                    <div class="password-wrapper">
                        <input id="inp-old-pass" type="password" class="form-input" placeholder="请输入当前密码">
                        <span class="password-toggle">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>
                        </span>
                    </div>
                </div>
                
                <div style="flex: 1;">
                    <label style="display: block; font-size: 13px; font-weight: 600; margin-bottom: 6px; color: var(--vp-c-text-2);">新密码</label>
                    <div class="password-wrapper">
                        <input id="inp-new-pass" type="password" class="form-input" placeholder="设置新密码">
                        <span class="password-toggle">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1="1" y1="1" x2="23" y2="23"></line></svg>
                        </span>
                    </div>
                </div>
            </div>
            
            <button type="submit" class="btn-submit" style="width: auto; padding: 8px 20px;">确认修改</button>
        </form>
    </div>

    <!-- 2. 第三方平台绑定 -->
    <div class="settings-section">
        <h3 class="settings-header">第三方平台绑定</h3>
        <div class="platform-list" id="platform-list">
            <!-- CSDN -->
            <div class="platform-card">
                <span class="platform-name">CSDN</span>
                <div class="action-group">
                    <button class="btn-unbind" style="display:none" data-platform="csdn" onclick="unbindAuth('csdn')">解绑</button>
                    <button class="btn-bind status-loading" data-platform="csdn" onclick="startAuth('csdn')">加载中...</button>
                </div>
            </div>
            <!-- 稀土掘金 -->
            <div class="platform-card">
                <span class="platform-name">稀土掘金</span>
                <div class="action-group">
                    <button class="btn-unbind" style="display:none" data-platform="juejin" onclick="unbindAuth('juejin')">解绑</button>
                    <button class="btn-bind status-loading" data-platform="juejin" onclick="startAuth('juejin')">加载中...</button>
                </div>
            </div>
            <!-- 语雀 -->
            <div class="platform-card">
                <span class="platform-name">语雀</span>
                <div class="action-group">
                    <button class="btn-unbind" style="display:none" data-platform="yuque" onclick="unbindAuth('yuque')">解绑</button>
                    <button class="btn-bind status-loading" data-platform="yuque" onclick="startAuth('yuque')">加载中...</button>
                </div>
            </div>
            <!-- 简书 -->
            <div class="platform-card">
                <span class="platform-name">简书</span>
                <div class="action-group">
                        <button class="btn-unbind" style="display:none" data-platform="jianshu" onclick="unbindAuth('jianshu')">解绑</button>
                    <button class="btn-bind status-loading" data-platform="jianshu" onclick="startAuth('jianshu')">加载中...</button>
                </div>
            </div>
            <!-- 博客园 -->
            <div class="platform-card">
                <span class="platform-name">博客园</span>
                <div class="action-group">
                        <button class="btn-unbind" style="display:none" data-platform="cnblogs" onclick="unbindAuth('cnblogs')">解绑</button>
                    <button class="btn-bind status-loading" data-platform="cnblogs" onclick="startAuth('cnblogs')">加载中...</button>
                </div>
            </div>
        </div>
    </div>
</main>